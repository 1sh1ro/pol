<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proof of Love - äº¤äº’å¼æ¼”ç¤º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .floating { animation: float 6s ease-in-out infinite; }
        .pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .text-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .success-toast {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .loading-spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Background Effects -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 floating"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 floating" style="animation-delay: 2s;"></div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Navigation -->
    <nav class="relative z-10 bg-gray-900/80 backdrop-blur-md border-b border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-heart text-white"></i>
                    </div>
                    <span class="text-xl font-bold">Proof of Love</span>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-sm text-gray-400">
                        <i class="fas fa-coins text-purple-400 mr-1"></i>
                        <span id="polBalance">0</span> PoL
                    </div>
                    <button id="connectWallet" class="bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-full transition">
                        è¿æ¥é’±åŒ…
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="relative z-10 min-h-screen">
        <!-- Hero Section -->
        <section class="py-16 px-4">
            <div class="max-w-7xl mx-auto text-center">
                <h1 class="text-4xl font-bold mb-6">
                    <span class="text-gradient">Proof of Love</span>
                    <br>
                    <span class="text-2xl text-gray-300">äº¤äº’å¼åŠŸèƒ½æ¼”ç¤º</span>
                </h1>
                <p class="text-lg text-gray-300 mb-8">
                    ä½“éªŒå®Œæ•´çš„è´¡çŒ®è¯æ˜ã€æˆå°±å¾½ç« å’Œç¤¾åŒºæ²»ç†åŠŸèƒ½
                </p>
            </div>
        </section>

        <!-- Function Tabs -->
        <section class="px-4 pb-16">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-wrap justify-center gap-4 mb-12">
                    <button onclick="switchTab('contribute')" class="tab-btn px-6 py-3 bg-purple-600 rounded-full font-semibold transition" data-tab="contribute">
                        <i class="fas fa-hand-holding-heart mr-2"></i>è´¡çŒ®ç³»ç»Ÿ
                    </button>
                    <button onclick="switchTab('achievements')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="achievements">
                        <i class="fas fa-trophy mr-2"></i>æˆå°±å¾½ç« 
                    </button>
                    <button onclick="switchTab('governance')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="governance">
                        <i class="fas fa-vote-yea mr-2"></i>ç¤¾åŒºæ²»ç†
                    </button>
                    <button onclick="switchTab('bridge')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="bridge">
                        <i class="fas fa-link mr-2"></i>è·¨é“¾æ¡¥æ¥
                    </button>
                </div>

                <!-- Tab Content -->
                <div id="tabContent">
                    <!-- Contribute Tab -->
                    <div id="contribute-tab" class="tab-content">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-heart text-purple-400 mr-2"></i>åšå‡ºè´¡çŒ®
                            </h2>

                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">é€‰æ‹©è´¡çŒ®ç±»å‹</h3>
                                    <div class="space-y-3">
                                        <label class="flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition">
                                            <input type="radio" name="contributionType" value="education" class="mr-3" checked>
                                            <div>
                                                <div class="font-medium">ğŸ“š æ•™è‚²å†…å®¹</div>
                                                <div class="text-sm text-gray-400">åˆ›ä½œæ•™ç¨‹ã€æ–‡æ¡£ã€è§†é¢‘ç­‰</div>
                                            </div>
                                        </label>
                                        <label class="flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition">
                                            <input type="radio" name="contributionType" value="code" class="mr-3">
                                            <div>
                                                <div class="font-medium">ğŸ’» ä»£ç è´¡çŒ®</div>
                                                <div class="text-sm text-gray-400">æäº¤PRã€ä¿®å¤bugã€å¼€å‘åŠŸèƒ½</div>
                                            </div>
                                        </label>
                                        <label class="flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition">
                                            <input type="radio" name="contributionType" value="community" class="mr-3">
                                            <div>
                                                <div class="font-medium">ğŸ‘¥ ç¤¾åŒºå»ºè®¾</div>
                                                <div class="text-sm text-gray-400">ç»„ç»‡æ´»åŠ¨ã€å›ç­”é—®é¢˜ã€ç¿»è¯‘</div>
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-lg font-semibold mb-4">è´¡çŒ®è¯¦æƒ…</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-2">å½±å“åŠ›è¯„åˆ† (1-100)</label>
                                            <input type="range" id="impactScore" min="1" max="100" value="50" class="w-full" oninput="updateImpactDisplay(this.value)">
                                            <div class="text-center text-purple-400 font-bold">
                                                <span id="impactDisplay">50</span> åˆ†
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">æè¿°</label>
                                            <textarea id="contributionDesc" rows="4" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="æè¿°ä½ çš„è´¡çŒ®å†…å®¹..."></textarea>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">é¢„ä¼° PoL å¥–åŠ±</label>
                                            <div class="bg-purple-600/20 border border-purple-500/30 rounded-lg p-4">
                                                <div class="text-2xl font-bold text-purple-400">
                                                    <span id="estimatedReward">500</span> PoL
                                                </div>
                                                <div class="text-sm text-gray-400">åŸºäºå½±å“åŠ›è¯„åˆ†å’Œè´¡çŒ®ç±»å‹è®¡ç®—</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-8 text-center">
                                <button id="submitContribution" class="px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full font-semibold hover:from-purple-700 hover:to-pink-700 transition">
                                    <i class="fas fa-paper-plane mr-2"></i>æäº¤è´¡çŒ®
                                </button>
                            </div>
                        </div>
                    </div>

                    <!-- Achievements Tab -->
                    <div id="achievements-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-trophy text-yellow-400 mr-2"></i>æˆå°±å¾½ç« 
                            </h2>

                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                <!-- Achievement Card 1 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-yellow-500/20 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fas fa-star text-yellow-400 text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold">é¦–æ¬¡è´¡çŒ®</h3>
                                            <div class="text-xs text-gray-400">æ™®é€šç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¤¾åŒºè´¡çŒ®</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">è¦æ±‚: 1æ¬¡è´¡çŒ®</span>
                                        <button onclick="claimAchievement(1)" class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition">
                                            é¢†å–
                                        </button>
                                    </div>
                                </div>

                                <!-- Achievement Card 2 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-purple-500/20 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fas fa-code text-purple-400 text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold">ä»£ç å¤§å¸ˆ</h3>
                                            <div class="text-xs text-purple-400">å²è¯—ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">ç´¯è®¡20æ¬¡ä»£ç è´¡çŒ®</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">è¦æ±‚: 20æ¬¡ä»£ç è´¡çŒ®</span>
                                        <button onclick="claimAchievement(2)" class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition">
                                            é¢†å–
                                        </button>
                                    </div>
                                </div>

                                <!-- Achievement Card 3 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover">
                                    <div class="flex items-center mb-4">
                                        <div class="w-12 h-12 bg-red-500/20 rounded-lg flex items-center justify-center mr-3">
                                            <i class="fas fa-crown text-red-400 text-xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold">ç¤¾åŒºé¢†è¢–</h3>
                                            <div class="text-xs text-red-400">ä¼ å¥‡ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">è·å¾—1000+ PoLä»£å¸</p>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">è¦æ±‚: 1000 PoL</span>
                                        <button onclick="claimAchievement(3)" class="px-3 py-1 bg-gray-600 rounded text-sm" disabled>
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <div class="mt-8 p-4 bg-purple-600/20 border border-purple-500/30 rounded-lg">
                                <h3 class="font-semibold mb-2">æˆ‘çš„æˆå°±ç»Ÿè®¡</h3>
                                <div class="grid grid-cols-4 gap-4 text-center">
                                    <div>
                                        <div class="text-2xl font-bold text-purple-400" id="totalAchievements">0</div>
                                        <div class="text-xs text-gray-400">æ€»æˆå°±</div>
                                    </div>
                                    <div>
                                        <div class="text-2xl font-bold text-yellow-400" id="rareAchievements">0</div>
                                        <div class="text-xs text-gray-400">ç¨€æœ‰æˆå°±</div>
                                    </div>
                                    <div>
                                        <div class="text-2xl font-bold text-purple-400" id="epicAchievements">0</div>
                                        <div class="text-xs text-gray-400">å²è¯—æˆå°±</div>
                                    </div>
                                    <div>
                                        <div class="text-2xl font-bold text-red-400" id="legendaryAchievements">0</div>
                                        <div class="text-xs text-gray-400">ä¼ å¥‡æˆå°±</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Governance Tab -->
                    <div id="governance-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-vote-yea text-green-400 mr-2"></i>ç¤¾åŒºæ²»ç†
                            </h2>

                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">å½“å‰ææ¡ˆ</h3>
                                    <div class="space-y-4">
                                        <div class="p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                            <div class="flex justify-between items-start mb-2">
                                                <h4 class="font-medium">å¢åŠ æ•™è‚²å†…å®¹å¥–åŠ±å€æ•°</h4>
                                                <span class="text-xs bg-green-600/20 text-green-400 px-2 py-1 rounded">æŠ•ç¥¨ä¸­</span>
                                            </div>
                                            <p class="text-sm text-gray-300 mb-3">å°†æ•™è‚²å†…å®¹è´¡çŒ®çš„å¥–åŠ±å€æ•°ä»1.5xæé«˜åˆ°2.0xï¼Œé¼“åŠ±æ›´å¤šé«˜è´¨é‡æ•™è‚²å†…å®¹åˆ›ä½œã€‚</p>
                                            <div class="flex justify-between items-center text-sm">
                                                <span class="text-gray-400">æ”¯æŒ: 65% | åå¯¹: 15% | å¼ƒæƒ: 20%</span>
                                                <div class="space-x-2">
                                                    <button onclick="vote('support')" class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition">
                                                        æ”¯æŒ
                                                    </button>
                                                    <button onclick="vote('against')" class="px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm transition">
                                                        åå¯¹
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                            <div class="flex justify-between items-start mb-2">
                                                <h4 class="font-medium">ç¤¾åŒºèµ„é‡‘åˆ†é…ææ¡ˆ</h4>
                                                <span class="text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded">å¾…æŠ•ç¥¨</span>
                                            </div>
                                            <p class="text-sm text-gray-300 mb-3">åˆ†é…5000 PoLä»£å¸ç”¨äºæ”¯æŒPolkadotä¸­æ–‡å¼€å‘æ–‡æ¡£ç¿»è¯‘é¡¹ç›®ã€‚</p>
                                            <div class="flex justify-between items-center text-sm">
                                                <span class="text-gray-400">æ”¯æŒ: 0% | åå¯¹: 0% | å¼ƒæƒ: 0%</span>
                                                <div class="space-x-2">
                                                    <button onclick="vote('support')" class="px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition">
                                                        æ”¯æŒ
                                                    </button>
                                                    <button onclick="vote('against')" class="px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm transition">
                                                        åå¯¹
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-lg font-semibold mb-4">åˆ›å»ºæ–°ææ¡ˆ</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-2">ææ¡ˆæ ‡é¢˜</label>
                                            <input type="text" id="proposalTitle" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="è¾“å…¥ææ¡ˆæ ‡é¢˜...">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">ææ¡ˆç±»å‹</label>
                                            <select id="proposalType" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white">
                                                <option value="funding">èµ„é‡‘åˆ†é…</option>
                                                <option value="parameter">å‚æ•°ä¿®æ”¹</option>
                                                <option value="feature">æ–°åŠŸèƒ½</option>
                                                <option value="governance">æ²»ç†è§„åˆ™</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">ææ¡ˆæè¿°</label>
                                            <textarea id="proposalDesc" rows="4" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="è¯¦ç»†æè¿°ä½ çš„ææ¡ˆ..."></textarea>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">è¯·æ±‚èµ„é‡‘ (PoL)</label>
                                            <input type="number" id="proposalAmount" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="0" min="0">
                                        </div>

                                        <button onclick="createProposal()" class="w-full px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 rounded-full font-semibold hover:from-green-700 hover:to-blue-700 transition">
                                            <i class="fas fa-plus-circle mr-2"></i>åˆ›å»ºææ¡ˆ
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bridge Tab -->
                    <div id="bridge-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-link text-blue-400 mr-2"></i>è·¨é“¾æ¡¥æ¥
                            </h2>

                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">ä» Polkadot è½¬å‡º</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-2">ç›®æ ‡é“¾</label>
                                            <select id="targetChain" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white">
                                                <option value="ethereum">Ethereum</option>
                                                <option value="polygon">Polygon</option>
                                                <option value="arbitrum">Arbitrum</option>
                                                <option value="optimism">Optimism</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">è½¬è´¦é‡‘é¢ (PoL)</label>
                                            <input type="number" id="transferAmount" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="0" min="0" oninput="updateTransferInfo()">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">æ¥æ”¶åœ°å€</label>
                                            <input type="text" id="recipientAddress" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="0x...">
                                        </div>

                                        <div class="p-4 bg-blue-600/20 border border-blue-500/30 rounded-lg">
                                            <div class="text-sm text-gray-300 mb-2">è½¬è´¦ä¿¡æ¯</div>
                                            <div class="flex justify-between text-sm">
                                                <span>è½¬è´¦é‡‘é¢:</span>
                                                <span id="transferAmountDisplay">0 PoL</span>
                                            </div>
                                            <div class="flex justify-between text-sm">
                                                <span>æ‰‹ç»­è´¹:</span>
                                                <span id="transferFee">5 PoL</span>
                                            </div>
                                            <div class="flex justify-between text-sm font-semibold text-blue-400">
                                                <span>æ€»è®¡:</span>
                                                <span id="transferTotal">5 PoL</span>
                                            </div>
                                        </div>

                                        <button onclick="initiateTransfer()" class="w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-full font-semibold hover:from-blue-700 hover:to-cyan-700 transition">
                                            <i class="fas fa-paper-plane mr-2"></i>å‘èµ·è·¨é“¾è½¬è´¦
                                        </button>
                                    </div>
                                </div>

                                <div>
                                    <h3 class="text-lg font-semibold mb-4">è½¬è´¦å†å²</h3>
                                    <div class="space-y-3" id="transferHistory">
                                        <div class="p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <div class="font-medium">Polkadot â†’ Ethereum</div>
                                                    <div class="text-sm text-gray-400">2024-11-04 12:30</div>
                                                </div>
                                                <div class="text-right">
                                                    <div class="font-semibold text-green-400">100 PoL</div>
                                                    <div class="text-xs bg-green-600/20 text-green-400 px-2 py-1 rounded">å·²å®Œæˆ</div>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                            <div class="flex justify-between items-center">
                                                <div>
                                                    <div class="font-medium">Polkadot â†’ Polygon</div>
                                                    <div class="text-sm text-gray-400">2024-11-04 11:45</div>
                                                </div>
                                                <div class="text-right">
                                                    <div class="font-semibold text-yellow-400">50 PoL</div>
                                                    <div class="text-xs bg-yellow-600/20 text-yellow-400 px-2 py-1 rounded">å¤„ç†ä¸­</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mt-6 p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                        <h4 class="font-medium mb-2">æ”¯æŒçš„åŒºå—é“¾</h4>
                                        <div class="grid grid-cols-2 gap-2 text-sm">
                                            <div class="flex items-center">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span>Polkadot Asset Hub</span>
                                            </div>
                                            <div class="flex items-center">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span>Ethereum</span>
                                            </div>
                                            <div class="flex items-center">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span>Polygon</span>
                                            </div>
                                            <div class="flex items-center">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span>Arbitrum</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // å…¨å±€çŠ¶æ€
        let isWalletConnected = false;
        let userBalance = 0;
        let userAchievements = [];
        let userContributions = 0;

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            updateUI();
            initializeEventListeners();
        });

        // é’±åŒ…è¿æ¥
        document.getElementById('connectWallet').addEventListener('click', function() {
            if (!isWalletConnected) {
                // æ¨¡æ‹Ÿé’±åŒ…è¿æ¥
                this.innerHTML = '<div class="loading-spinner inline-block mr-2"></div>è¿æ¥ä¸­...';
                this.disabled = true;

                setTimeout(() => {
                    isWalletConnected = true;
                    userBalance = Math.floor(Math.random() * 1000) + 100;
                    this.innerHTML = '<i class="fas fa-wallet mr-2"></i>0x1234...5678';
                    this.disabled = false;
                    this.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                    this.classList.add('bg-green-600', 'hover:bg-green-700');

                    document.getElementById('polBalance').textContent = userBalance;
                    showToast('é’±åŒ…è¿æ¥æˆåŠŸï¼', 'success');
                    updateUI();
                }, 2000);
            } else {
                // æ–­å¼€è¿æ¥
                isWalletConnected = false;
                userBalance = 0;
                this.innerHTML = 'è¿æ¥é’±åŒ…';
                this.classList.remove('bg-green-600', 'hover:bg-green-700');
                this.classList.add('bg-purple-600', 'hover:bg-purple-700');

                document.getElementById('polBalance').textContent = '0';
                showToast('é’±åŒ…å·²æ–­å¼€è¿æ¥', 'info');
                updateUI();
            }
        });

        // Tab åˆ‡æ¢
        function switchTab(tabName) {
            // æ›´æ–°æŒ‰é’®æ ·å¼
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.dataset.tab === tabName) {
                    btn.classList.remove('bg-gray-700');
                    btn.classList.add('bg-purple-600');
                } else {
                    btn.classList.remove('bg-purple-600');
                    btn.classList.add('bg-gray-700');
                }
            });

            // åˆ‡æ¢å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(tabName + '-tab').classList.remove('hidden');
        }

        // è´¡çŒ®ç³»ç»Ÿ
        function updateImpactDisplay(value) {
            document.getElementById('impactDisplay').textContent = value;
            updateEstimatedReward();
        }

        function updateEstimatedReward() {
            const score = parseInt(document.getElementById('impactScore').value);
            const type = document.querySelector('input[name="contributionType"]:checked').value;

            let multiplier = 1.5; // é»˜è®¤æ•™è‚²
            if (type === 'code') multiplier = 2.0;
            if (type === 'community') multiplier = 1.2;

            const reward = Math.floor(score * 10 * multiplier);
            document.getElementById('estimatedReward').textContent = reward;
        }

        document.getElementById('submitContribution').addEventListener('click', function() {
            if (!isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            const desc = document.getElementById('contributionDesc').value;
            if (!desc.trim()) {
                showToast('è¯·å¡«å†™è´¡çŒ®æè¿°', 'error');
                return;
            }

            this.innerHTML = '<div class="loading-spinner inline-block mr-2"></div>æäº¤ä¸­...';
            this.disabled = true;

            setTimeout(() => {
                const reward = parseInt(document.getElementById('estimatedReward').textContent);
                userBalance += reward;
                userContributions++;

                document.getElementById('polBalance').textContent = userBalance;
                this.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>æäº¤è´¡çŒ®';
                this.disabled = false;

                document.getElementById('contributionDesc').value = '';
                document.getElementById('impactScore').value = 50;
                document.getElementById('impactDisplay').textContent = 50;
                updateEstimatedReward();

                showToast(`è´¡çŒ®æäº¤æˆåŠŸï¼è·å¾— ${reward} PoL ä»£å¸`, 'success');
                updateUI();
            }, 2000);
        });

        // æˆå°±ç³»ç»Ÿ
        function claimAchievement(achievementId) {
            if (!isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            let canClaim = false;
            let achievementName = '';

            if (achievementId === 1 && userContributions >= 1) {
                canClaim = true;
                achievementName = 'é¦–æ¬¡è´¡çŒ®';
            } else if (achievementId === 2 && userContributions >= 20) {
                canClaim = true;
                achievementName = 'ä»£ç å¤§å¸ˆ';
            } else if (achievementId === 3 && userBalance >= 1000) {
                canClaim = true;
                achievementName = 'ç¤¾åŒºé¢†è¢–';
            }

            if (!canClaim) {
                showToast('æœªæ»¡è¶³æˆå°±è¦æ±‚', 'error');
                return;
            }

            showToast(`æ­å–œè·å¾—æˆå°±: ${achievementName}ï¼`, 'success');
            userAchievements.push(achievementId);
            updateAchievementStats();
        }

        function updateAchievementStats() {
            document.getElementById('totalAchievements').textContent = userAchievements.length;
            // è¿™é‡Œå¯ä»¥æ ¹æ®æˆå°±IDæ›´æ–°ç¨€æœ‰åº¦ç»Ÿè®¡
        }

        // æ²»ç†ç³»ç»Ÿ
        function vote(type) {
            if (!isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            if (userBalance < 100) {
                showToast('éœ€è¦è‡³å°‘100 PoLæ‰èƒ½æŠ•ç¥¨', 'error');
                return;
            }

            const voteText = type === 'support' ? 'æ”¯æŒ' : 'åå¯¹';
            showToast(`æŠ•ç¥¨æˆåŠŸ: ${voteText}`, 'success');
        }

        function createProposal() {
            if (!isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            const title = document.getElementById('proposalTitle').value;
            const desc = document.getElementById('proposalDesc').value;
            const amount = document.getElementById('proposalAmount').value;

            if (!title.trim() || !desc.trim()) {
                showToast('è¯·å¡«å†™å®Œæ•´çš„ææ¡ˆä¿¡æ¯', 'error');
                return;
            }

            if (userBalance < 1000) {
                showToast('éœ€è¦è‡³å°‘1000 PoLæ‰èƒ½åˆ›å»ºææ¡ˆ', 'error');
                return;
            }

            showToast('ææ¡ˆåˆ›å»ºæˆåŠŸï¼ç­‰å¾…ç¤¾åŒºæŠ•ç¥¨', 'success');

            // æ¸…ç©ºè¡¨å•
            document.getElementById('proposalTitle').value = '';
            document.getElementById('proposalDesc').value = '';
            document.getElementById('proposalAmount').value = '';
        }

        // è·¨é“¾æ¡¥æ¥
        function updateTransferInfo() {
            const amount = parseInt(document.getElementById('transferAmount').value) || 0;
            const fee = 5;
            const total = amount + fee;

            document.getElementById('transferAmountDisplay').textContent = `${amount} PoL`;
            document.getElementById('transferTotal').textContent = `${total} PoL`;
        }

        function initiateTransfer() {
            if (!isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            const amount = parseInt(document.getElementById('transferAmount').value) || 0;
            const recipient = document.getElementById('recipientAddress').value;
            const total = amount + 5;

            if (amount <= 0) {
                showToast('è¯·è¾“å…¥è½¬è´¦é‡‘é¢', 'error');
                return;
            }

            if (!recipient.trim()) {
                showToast('è¯·è¾“å…¥æ¥æ”¶åœ°å€', 'error');
                return;
            }

            if (userBalance < total) {
                showToast('ä½™é¢ä¸è¶³', 'error');
                return;
            }

            showToast('è·¨é“¾è½¬è´¦å·²å‘èµ·ï¼Œæ­£åœ¨å¤„ç†ä¸­...', 'success');

            // æ·»åŠ åˆ°å†å²è®°å½•
            addTransferToHistory('Polkadot â†’ ' + document.getElementById('targetChain').value, amount, 'å¤„ç†ä¸­');

            // æ‰£é™¤ä½™é¢
            userBalance -= total;
            document.getElementById('polBalance').textContent = userBalance;

            // æ¸…ç©ºè¡¨å•
            document.getElementById('transferAmount').value = '';
            document.getElementById('recipientAddress').value = '';
            updateTransferInfo();
        }

        function addTransferToHistory(fromTo, amount, status) {
            const historyContainer = document.getElementById('transferHistory');
            const now = new Date();
            const timeStr = `${now.getFullYear()}-${String(now.getMonth()+1).padStart(2,'0')}-${String(now.getDate()).padStart(2,'0')} ${String(now.getHours()).padStart(2,'0')}:${String(now.getMinutes()).padStart(2,'0')}`;

            const statusClass = status === 'å·²å®Œæˆ' ? 'green' : status === 'å¤„ç†ä¸­' ? 'yellow' : 'red';

            const transferHTML = `
                <div class="p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                    <div class="flex justify-between items-center">
                        <div>
                            <div class="font-medium">${fromTo}</div>
                            <div class="text-sm text-gray-400">${timeStr}</div>
                        </div>
                        <div class="text-right">
                            <div class="font-semibold text-${statusClass}-400">${amount} PoL</div>
                            <div class="text-xs bg-${statusClass}-600/20 text-${statusClass}-400 px-2 py-1 rounded">${status}</div>
                        </div>
                    </div>
                </div>
            `;

            historyContainer.insertAdjacentHTML('afterbegin', transferHTML);
        }

        // UI æ›´æ–°
        function updateUI() {
            updateEstimatedReward();
            updateAchievementStats();
        }

        // Toast é€šçŸ¥
        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toastId = 'toast-' + Date.now();

            const bgClass = type === 'success' ? 'bg-green-600' :
                           type === 'error' ? 'bg-red-600' :
                           type === 'warning' ? 'bg-yellow-600' : 'bg-blue-600';

            const icon = type === 'success' ? 'check-circle' :
                        type === 'error' ? 'exclamation-circle' :
                        type === 'warning' ? 'exclamation-triangle' : 'info-circle';

            const toastHTML = `
                <div id="${toastId}" class="success-toast ${bgClass} text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 min-w-[300px]">
                    <i class="fas fa-${icon} text-xl"></i>
                    <span>${message}</span>
                </div>
            `;

            toastContainer.insertAdjacentHTML('beforeend', toastHTML);

            setTimeout(() => {
                const toast = document.getElementById(toastId);
                if (toast) {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateX(100%)';
                    setTimeout(() => toast.remove(), 300);
                }
            }, 3000);
        }

        // åˆå§‹åŒ–äº‹ä»¶ç›‘å¬å™¨
        function initializeEventListeners() {
            // è´¡çŒ®ç±»å‹é€‰æ‹©
            document.querySelectorAll('input[name="contributionType"]').forEach(radio => {
                radio.addEventListener('change', updateEstimatedReward);
            });

            // åˆå§‹åŒ–
            updateEstimatedReward();
        }
    </script>
</body>
</html>