<!DOCTYPE html>
<html lang="zh">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Proof of Love - å®Œæ•´åŠŸèƒ½æ¼”ç¤º</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.7.1/dist/ethers.min.js"></script>
    <style>
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        .floating { animation: float 6s ease-in-out infinite; }
        .pulse { animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite; }

        .gradient-bg {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        }

        .text-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .success-toast {
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }

        .card-hover {
            transition: all 0.3s ease;
        }

        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 20px 40px rgba(0,0,0,0.1);
        }

        .loading-spinner {
            border: 3px solid rgba(255,255,255,0.3);
            border-radius: 50%;
            border-top: 3px solid white;
            width: 20px;
            height: 20px;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .progress-bar {
            transition: width 0.3s ease;
        }

        .nft-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            transition: all 0.3s ease;
        }

        .nft-card:hover {
            transform: scale(1.05);
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.4);
        }

        .achievement-badge {
            position: relative;
            overflow: hidden;
        }

        .achievement-badge::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            right: -2px;
            bottom: -2px;
            background: linear-gradient(45deg, #ff0080, #ff8c00, #40e0d0, #ff0080);
            background-size: 400% 400%;
            border-radius: 50%;
            z-index: -1;
            animation: gradientShift 3s ease infinite;
        }

        @keyframes gradientShift {
            0%, 100% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
        }

        .governance-proposal {
            transition: all 0.3s ease;
        }

        .governance-proposal:hover {
            transform: translateX(5px);
        }

        .vote-button {
            transition: all 0.2s ease;
        }

        .vote-button:hover:not(:disabled) {
            transform: scale(1.1);
        }

        .vote-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
    </style>
</head>
<body class="bg-gray-900 text-white">
    <!-- Background Effects -->
    <div class="fixed inset-0 overflow-hidden pointer-events-none">
        <div class="absolute -top-40 -right-40 w-80 h-80 bg-purple-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 floating"></div>
        <div class="absolute -bottom-40 -left-40 w-80 h-80 bg-pink-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 floating" style="animation-delay: 2s;"></div>
        <div class="absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-80 h-80 bg-blue-500 rounded-full mix-blend-multiply filter blur-xl opacity-20 floating" style="animation-delay: 4s;"></div>
    </div>

    <!-- Toast Container -->
    <div id="toastContainer" class="fixed top-4 right-4 z-50 space-y-2"></div>

    <!-- Navigation -->
    <nav class="relative z-10 bg-gray-900/80 backdrop-blur-md border-b border-gray-700">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <div class="flex items-center space-x-3">
                    <div class="w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-lg flex items-center justify-center">
                        <i class="fas fa-heart text-white"></i>
                    </div>
                    <span class="text-xl font-bold">Proof of Love</span>
                </div>
                <div class="flex items-center space-x-4">
                    <div class="text-sm text-gray-400">
                        <i class="fas fa-coins text-purple-400 mr-1"></i>
                        <span id="polBalance">0</span> PoL
                    </div>
                    <div class="text-sm text-gray-400">
                        <i class="fas fa-trophy text-yellow-400 mr-1"></i>
                        <span id="achievementCount">0</span> æˆå°±
                    </div>
                    <div class="text-sm text-gray-400">
                        <i class="fas fa-chart-line text-green-400 mr-1"></i>
                        <span id="reputationScore">0</span> å£°æœ›
                    </div>
                    <button id="connectWallet" class="bg-purple-600 hover:bg-purple-700 px-6 py-2 rounded-full transition">
                        è¿æ¥é’±åŒ…
                    </button>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main Content -->
    <div class="relative z-10 min-h-screen">
        <!-- Hero Section -->
        <section class="py-12 px-4">
            <div class="max-w-7xl mx-auto text-center">
                <h1 class="text-3xl font-bold mb-4">
                    <span class="text-gradient">Proof of Love</span>
                    <br>
                    <span class="text-xl text-gray-300">å®Œæ•´åŠŸèƒ½æ¼”ç¤º</span>
                </h1>
                <p class="text-base text-gray-300 mb-6">
                    åŸºäºæ™ºèƒ½åˆçº¦çš„çœŸå®äº¤äº’æ¼”ç¤º - æ‰€æœ‰åŠŸèƒ½éƒ½å¯ä»¥å®é™…æ“ä½œ
                </p>
            </div>
        </section>

        <!-- Dashboard Stats -->
        <section class="px-4 pb-8">
            <div class="max-w-7xl mx-auto">
                <div class="grid grid-cols-1 md:grid-cols-4 gap-4">
                    <div class="bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 border border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-sm text-gray-400">æ€»è´¡çŒ®</div>
                                <div class="text-2xl font-bold text-purple-400" id="totalContributions">0</div>
                            </div>
                            <i class="fas fa-hand-holding-heart text-purple-400 text-2xl"></i>
                        </div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 border border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-sm text-gray-400">å½±å“åŠ›</div>
                                <div class="text-2xl font-bold text-pink-400" id="totalInfluence">0</div>
                            </div>
                            <i class="fas fa-chart-line text-pink-400 text-2xl"></i>
                        </div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 border border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-sm text-gray-400">ç¤¾åŒºæ’å</div>
                                <div class="text-2xl font-bold text-blue-400" id="communityRank">#1</div>
                            </div>
                            <i class="fas fa-trophy text-blue-400 text-2xl"></i>
                        </div>
                    </div>
                    <div class="bg-gray-800/50 backdrop-blur-sm rounded-lg p-4 border border-gray-700">
                        <div class="flex items-center justify-between">
                            <div>
                                <div class="text-sm text-gray-400">æ²»ç†æƒ</div>
                                <div class="text-2xl font-bold text-green-400" id="governancePower">0%</div>
                            </div>
                            <i class="fas fa-vote-yea text-green-400 text-2xl"></i>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Function Tabs -->
        <section class="px-4 pb-16">
            <div class="max-w-7xl mx-auto">
                <div class="flex flex-wrap justify-center gap-4 mb-12">
                    <button onclick="switchTab('contribute')" class="tab-btn px-6 py-3 bg-purple-600 rounded-full font-semibold transition" data-tab="contribute">
                        <i class="fas fa-hand-holding-heart mr-2"></i>è´¡çŒ®ç³»ç»Ÿ
                    </button>
                    <button onclick="switchTab('achievements')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="achievements">
                        <i class="fas fa-trophy mr-2"></i>æˆå°±å¾½ç« 
                    </button>
                    <button onclick="switchTab('governance')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="governance">
                        <i class="fas fa-vote-yea mr-2"></i>ç¤¾åŒºæ²»ç†
                    </button>
                    <button onclick="switchTab('bridge')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="bridge">
                        <i class="fas fa-link mr-2"></i>è·¨é“¾æ¡¥æ¥
                    </button>
                    <button onclick="switchTab('marketplace')" class="tab-btn px-6 py-3 bg-gray-700 rounded-full font-semibold transition hover:bg-gray-600" data-tab="marketplace">
                        <i class="fas fa-store mr-2"></i>NFTå¸‚åœº
                    </button>
                </div>

                <!-- Tab Content -->
                <div id="tabContent">
                    <!-- Contribute Tab -->
                    <div id="contribute-tab" class="tab-content">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-heart text-purple-400 mr-2"></i>åšå‡ºè´¡çŒ®
                            </h2>

                            <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                                <!-- è´¡çŒ®ç±»å‹é€‰æ‹© -->
                                <div class="lg:col-span-1">
                                    <h3 class="text-lg font-semibold mb-4">é€‰æ‹©è´¡çŒ®ç±»å‹</h3>
                                    <div class="space-y-3">
                                        <label class="contribution-type-card flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition border-2 border-transparent hover:border-purple-500" data-type="education">
                                            <input type="radio" name="contributionType" value="education" class="mr-3" checked>
                                            <div class="flex-1">
                                                <div class="font-medium">ğŸ“š æ•™è‚²å†…å®¹</div>
                                                <div class="text-sm text-gray-400">åˆ›ä½œæ•™ç¨‹ã€æ–‡æ¡£ã€è§†é¢‘</div>
                                                <div class="text-xs text-purple-400 mt-1">å¥–åŠ±å€æ•°: 1.5x</div>
                                            </div>
                                        </label>
                                        <label class="contribution-type-card flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition border-2 border-transparent hover:border-purple-500" data-type="code">
                                            <input type="radio" name="contributionType" value="code" class="mr-3">
                                            <div class="flex-1">
                                                <div class="font-medium">ğŸ’» ä»£ç è´¡çŒ®</div>
                                                <div class="text-sm text-gray-400">æäº¤PRã€ä¿®å¤bugã€å¼€å‘</div>
                                                <div class="text-xs text-purple-400 mt-1">å¥–åŠ±å€æ•°: 2.0x</div>
                                            </div>
                                        </label>
                                        <label class="contribution-type-card flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition border-2 border-transparent hover:border-purple-500" data-type="community">
                                            <input type="radio" name="contributionType" value="community" class="mr-3">
                                            <div class="flex-1">
                                                <div class="font-medium">ğŸ‘¥ ç¤¾åŒºå»ºè®¾</div>
                                                <div class="text-sm text-gray-400">ç»„ç»‡æ´»åŠ¨ã€å›ç­”é—®é¢˜</div>
                                                <div class="text-xs text-purple-400 mt-1">å¥–åŠ±å€æ•°: 1.2x</div>
                                            </div>
                                        </label>
                                        <label class="contribution-type-card flex items-center p-4 bg-gray-700/50 rounded-lg cursor-pointer hover:bg-gray-700 transition border-2 border-transparent hover:border-purple-500" data-type="translation">
                                            <input type="radio" name="contributionType" value="translation" class="mr-3">
                                            <div class="flex-1">
                                                <div class="font-medium">ğŸŒ ç¿»è¯‘å·¥ä½œ</div>
                                                <div class="text-sm text-gray-400">æ–‡æ¡£ç¿»è¯‘ã€æœ¬åœ°åŒ–</div>
                                                <div class="text-xs text-purple-400 mt-1">å¥–åŠ±å€æ•°: 1.8x</div>
                                            </div>
                                        </label>
                                    </div>
                                </div>

                                <!-- è´¡çŒ®è¯¦æƒ… -->
                                <div class="lg:col-span-2">
                                    <h3 class="text-lg font-semibold mb-4">è´¡çŒ®è¯¦æƒ…</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-2">å½±å“åŠ›è¯„åˆ† (1-100)</label>
                                            <input type="range" id="impactScore" min="1" max="100" value="50" class="w-full" oninput="updateImpactDisplay(this.value)">
                                            <div class="flex justify-between items-center mt-2">
                                                <div class="text-sm text-gray-400">ä½å½±å“</div>
                                                <div class="text-center">
                                                    <span id="impactDisplay" class="text-2xl font-bold text-purple-400">50</span>
                                                    <div class="text-sm text-gray-400">åˆ†</div>
                                                </div>
                                                <div class="text-sm text-gray-400">é«˜å½±å“</div>
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">è´¡çŒ®æ ‡é¢˜</label>
                                            <input type="text" id="contributionTitle" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="ç»™ä½ çš„è´¡çŒ®èµ·ä¸ªæ ‡é¢˜...">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">è¯¦ç»†æè¿°</label>
                                            <textarea id="contributionDesc" rows="4" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="è¯¦ç»†æè¿°ä½ çš„è´¡çŒ®å†…å®¹ï¼ŒåŒ…æ‹¬å…·ä½“çš„æˆæœå’Œå½±å“..."></textarea>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">ç›¸å…³é“¾æ¥ (å¯é€‰)</label>
                                            <input type="text" id="contributionLink" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="GitHubé“¾æ¥ã€æ–‡æ¡£é“¾æ¥ç­‰...">
                                        </div>

                                        <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                                            <div>
                                                <label class="block text-sm font-medium mb-2">é¢„ä¼° PoL å¥–åŠ±</label>
                                                <div class="bg-purple-600/20 border border-purple-500/30 rounded-lg p-4">
                                                    <div class="text-3xl font-bold text-purple-400">
                                                        <span id="estimatedReward">500</span> PoL
                                                    </div>
                                                    <div class="text-sm text-gray-400">åŸºäºå½±å“åŠ›è¯„åˆ†å’Œè´¡çŒ®ç±»å‹</div>
                                                </div>
                                            </div>
                                            <div>
                                                <label class="block text-sm font-medium mb-2">é¢„ä¼°å½±å“åŠ›</label>
                                                <div class="bg-pink-600/20 border border-pink-500/30 rounded-lg p-4">
                                                    <div class="text-3xl font-bold text-pink-400">
                                                        <span id="estimatedInfluence">50</span> ç‚¹
                                                    </div>
                                                    <div class="text-sm text-gray-400">å½±å“åŠ›å’Œå£°æœ›å€¼</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="mt-8 flex justify-center">
                                        <button id="submitContribution" class="px-8 py-3 bg-gradient-to-r from-purple-600 to-pink-600 rounded-full font-semibold hover:from-purple-700 hover:to-pink-700 transition transform hover:scale-105">
                                            <i class="fas fa-paper-plane mr-2"></i>æäº¤è´¡çŒ®
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Achievements Tab -->
                    <div id="achievements-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-trophy text-yellow-400 mr-2"></i>æˆå°±å¾½ç« ç³»ç»Ÿ
                            </h2>

                            <!-- æˆå°±ç»Ÿè®¡ -->
                            <div class="grid grid-cols-1 md:grid-cols-4 gap-4 mb-8">
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-3xl font-bold text-yellow-400" id="totalAchievements">0</div>
                                    <div class="text-sm text-gray-400">æ€»æˆå°±</div>
                                </div>
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-3xl font-bold text-purple-400" id="rareAchievements">0</div>
                                    <div class="text-sm text-gray-400">ç¨€æœ‰æˆå°±</div>
                                </div>
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-3xl font-bold text-pink-400" id="epicAchievements">0</div>
                                    <div class="text-sm text-gray-400">å²è¯—æˆå°±</div>
                                </div>
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-3xl font-bold text-red-400" id="legendaryAchievements">0</div>
                                    <div class="text-sm text-gray-400">ä¼ å¥‡æˆå°±</div>
                                </div>
                            </div>

                            <!-- æˆå°±åˆ—è¡¨ -->
                            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                <!-- æˆå°±å¡ç‰‡ 1 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover relative overflow-hidden">
                                    <div class="absolute top-2 right-2">
                                        <div class="achievement-badge w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-star text-white text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-16 h-16 bg-yellow-500/20 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-seedling text-yellow-400 text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg">é¦–æ¬¡è´¡çŒ®</h3>
                                            <div class="text-xs text-yellow-400">æ™®é€šç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">å®Œæˆä½ çš„ç¬¬ä¸€ä¸ªç¤¾åŒºè´¡çŒ®ï¼Œå¼€å¯å½±å“åŠ›ä¹‹æ—…</p>
                                    <div class="mb-4">
                                        <div class="text-xs text-gray-400 mb-1">è¿›åº¦</div>
                                        <div class="w-full bg-gray-600 rounded-full h-2">
                                            <div class="progress-bar bg-yellow-400 h-2 rounded-full" style="width: 0%" id="progress-1"></div>
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">è¦æ±‚: 1æ¬¡è´¡çŒ®</div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">å¥–åŠ±: 100 PoL</span>
                                        <button onclick="claimAchievement(1, 'é¦–æ¬¡è´¡çŒ®', 100)" class="achievement-btn px-4 py-2 bg-gray-600 hover:bg-green-600 rounded-lg text-sm transition" data-achievement="1">
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>

                                <!-- æˆå°±å¡ç‰‡ 2 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover relative overflow-hidden">
                                    <div class="absolute top-2 right-2">
                                        <div class="achievement-badge w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-code text-white text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-16 h-16 bg-purple-500/20 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-code-branch text-purple-400 text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg">ä»£ç è´¡çŒ®è€…</h3>
                                            <div class="text-xs text-purple-400">ç¨€æœ‰ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">ç´¯è®¡10æ¬¡ä»£ç è´¡çŒ®ï¼Œæˆä¸ºæŠ€æœ¯ä¸“å®¶</p>
                                    <div class="mb-4">
                                        <div class="text-xs text-gray-400 mb-1">è¿›åº¦</div>
                                        <div class="w-full bg-gray-600 rounded-full h-2">
                                            <div class="progress-bar bg-purple-400 h-2 rounded-full" style="width: 0%" id="progress-2"></div>
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">è¦æ±‚: 10æ¬¡ä»£ç è´¡çŒ®</div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">å¥–åŠ±: 500 PoL</span>
                                        <button onclick="claimAchievement(2, 'ä»£ç è´¡çŒ®è€…', 500)" class="achievement-btn px-4 py-2 bg-gray-600 hover:bg-green-600 rounded-lg text-sm transition" data-achievement="2">
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>

                                <!-- æˆå°±å¡ç‰‡ 3 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover relative overflow-hidden">
                                    <div class="absolute top-2 right-2">
                                        <div class="achievement-badge w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-crown text-white text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-16 h-16 bg-pink-500/20 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-fire text-pink-400 text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg">å½±å“åŠ›å¤§å¸ˆ</h3>
                                            <div class="text-xs text-pink-400">å²è¯—ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">ç´¯è®¡1000ç‚¹å½±å“åŠ›ï¼Œæˆä¸ºç¤¾åŒºé¢†è¢–</p>
                                    <div class="mb-4">
                                        <div class="text-xs text-gray-400 mb-1">è¿›åº¦</div>
                                        <div class="w-full bg-gray-600 rounded-full h-2">
                                            <div class="progress-bar bg-pink-400 h-2 rounded-full" style="width: 0%" id="progress-3"></div>
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">è¦æ±‚: 1000å½±å“åŠ›</div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">å¥–åŠ±: 2000 PoL</span>
                                        <button onclick="claimAchievement(3, 'å½±å“åŠ›å¤§å¸ˆ', 2000)" class="achievement-btn px-4 py-2 bg-gray-600 hover:bg-green-600 rounded-lg text-sm transition" data-achievement="3">
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>

                                <!-- æˆå°±å¡ç‰‡ 4 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover relative overflow-hidden">
                                    <div class="absolute top-2 right-2">
                                        <div class="achievement-badge w-8 h-8 bg-red-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-gem text-white text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-16 h-16 bg-red-500/20 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-medal text-red-400 text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg">ç¤¾åŒºä¼ å¥‡</h3>
                                            <div class="text-xs text-red-400">ä¼ å¥‡ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">è·å¾—10000 PoLä»£å¸ï¼Œæˆä¸ºç”Ÿæ€å»ºè®¾è€…</p>
                                    <div class="mb-4">
                                        <div class="text-xs text-gray-400 mb-1">è¿›åº¦</div>
                                        <div class="w-full bg-gray-600 rounded-full h-2">
                                            <div class="progress-bar bg-red-400 h-2 rounded-full" style="width: 0%" id="progress-4"></div>
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">è¦æ±‚: 10000 PoL</div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">å¥–åŠ±: 5000 PoL</span>
                                        <button onclick="claimAchievement(4, 'ç¤¾åŒºä¼ å¥‡', 5000)" class="achievement-btn px-4 py-2 bg-gray-600 hover:bg-green-600 rounded-lg text-sm transition" data-achievement="4">
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>

                                <!-- æˆå°±å¡ç‰‡ 5 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover relative overflow-hidden">
                                    <div class="absolute top-2 right-2">
                                        <div class="achievement-badge w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-globe text-white text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-16 h-16 bg-blue-500/20 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-graduation-cap text-blue-400 text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg">æ•™è‚²å¯¼å¸ˆ</h3>
                                            <div class="text-xs text-blue-400">ç¨€æœ‰ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">åˆ›ä½œ20ä¸ªæ•™è‚²å†…å®¹ï¼ŒåŸ¹å…»æ–°ä¸€ä»£å¼€å‘è€…</p>
                                    <div class="mb-4">
                                        <div class="text-xs text-gray-400 mb-1">è¿›åº¦</div>
                                        <div class="w-full bg-gray-600 rounded-full h-2">
                                            <div class="progress-bar bg-blue-400 h-2 rounded-full" style="width: 0%" id="progress-5"></div>
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">è¦æ±‚: 20ä¸ªæ•™è‚²å†…å®¹</div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">å¥–åŠ±: 1000 PoL</span>
                                        <button onclick="claimAchievement(5, 'æ•™è‚²å¯¼å¸ˆ', 1000)" class="achievement-btn px-4 py-2 bg-gray-600 hover:bg-green-600 rounded-lg text-sm transition" data-achievement="5">
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>

                                <!-- æˆå°±å¡ç‰‡ 6 -->
                                <div class="achievement-card bg-gray-700/50 rounded-lg p-6 border border-gray-600 card-hover relative overflow-hidden">
                                    <div class="absolute top-2 right-2">
                                        <div class="achievement-badge w-8 h-8 bg-green-500 rounded-full flex items-center justify-center">
                                            <i class="fas fa-users text-white text-xs"></i>
                                        </div>
                                    </div>
                                    <div class="flex items-center mb-4">
                                        <div class="w-16 h-16 bg-green-500/20 rounded-xl flex items-center justify-center mr-4">
                                            <i class="fas fa-hands-helping text-green-400 text-2xl"></i>
                                        </div>
                                        <div>
                                            <h3 class="font-semibold text-lg">è·¨é“¾å¤§ä½¿</h3>
                                            <div class="text-xs text-green-400">å²è¯—ç¨€æœ‰åº¦</div>
                                        </div>
                                    </div>
                                    <p class="text-sm text-gray-300 mb-4">æˆåŠŸå®Œæˆ10æ¬¡è·¨é“¾è½¬è´¦ï¼Œè¿æ¥å¤šé“¾ç”Ÿæ€</p>
                                    <div class="mb-4">
                                        <div class="text-xs text-gray-400 mb-1">è¿›åº¦</div>
                                        <div class="w-full bg-gray-600 rounded-full h-2">
                                            <div class="progress-bar bg-green-400 h-2 rounded-full" style="width: 0%" id="progress-6"></div>
                                        </div>
                                        <div class="text-xs text-gray-400 mt-1">è¦æ±‚: 10æ¬¡è·¨é“¾è½¬è´¦</div>
                                    </div>
                                    <div class="flex justify-between items-center">
                                        <span class="text-xs text-gray-400">å¥–åŠ±: 1500 PoL</span>
                                        <button onclick="claimAchievement(6, 'è·¨é“¾å¤§ä½¿', 1500)" class="achievement-btn px-4 py-2 bg-gray-600 hover:bg-green-600 rounded-lg text-sm transition" data-achievement="6">
                                            æœªè¾¾æˆ
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Governance Tab -->
                    <div id="governance-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-vote-yea text-green-400 mr-2"></i>ç¤¾åŒºæ²»ç†ç³»ç»Ÿ
                            </h2>

                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <!-- å½“å‰ææ¡ˆ -->
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">æŠ•ç¥¨ä¸­çš„ææ¡ˆ</h3>
                                    <div class="space-y-4" id="proposalsList">
                                        <!-- ææ¡ˆ1 -->
                                        <div class="governance-proposal p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                            <div class="flex justify-between items-start mb-2">
                                                <h4 class="font-medium">å¢åŠ æ•™è‚²å†…å®¹å¥–åŠ±å€æ•°</h4>
                                                <span class="text-xs bg-green-600/20 text-green-400 px-2 py-1 rounded">æŠ•ç¥¨ä¸­</span>
                                            </div>
                                            <p class="text-sm text-gray-300 mb-3">å°†æ•™è‚²å†…å®¹è´¡çŒ®çš„å¥–åŠ±å€æ•°ä»1.5xæé«˜åˆ°2.0xï¼Œé¼“åŠ±æ›´å¤šé«˜è´¨é‡æ•™è‚²å†…å®¹åˆ›ä½œã€‚</p>

                                            <div class="mb-3">
                                                <div class="flex justify-between text-sm mb-1">
                                                    <span>æŠ•ç¥¨è¿›åº¦</span>
                                                    <span id="proposal1-progress-text">65%</span>
                                                </div>
                                                <div class="w-full bg-gray-600 rounded-full h-3">
                                                    <div class="bg-green-400 h-3 rounded-full transition-all duration-300" style="width: 65%" id="proposal1-bar"></div>
                                                </div>
                                            </div>

                                            <div class="grid grid-cols-3 gap-2 mb-3 text-xs">
                                                <div class="text-center">
                                                    <div class="font-bold text-green-400">65%</div>
                                                    <div class="text-gray-400">æ”¯æŒ</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="font-bold text-red-400">15%</div>
                                                    <div class="text-gray-400">åå¯¹</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="font-bold text-gray-400">20%</div>
                                                    <div class="text-gray-400">å¼ƒæƒ</div>
                                                </div>
                                            </div>

                                            <div class="flex justify-between items-center">
                                                <span class="text-xs text-gray-400">å‰©ä½™æ—¶é—´: 2å¤©3å°æ—¶</span>
                                                <div class="space-x-2">
                                                    <button onclick="vote(1, 'support')" class="vote-button px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition">
                                                        <i class="fas fa-thumbs-up mr-1"></i>æ”¯æŒ
                                                    </button>
                                                    <button onclick="vote(1, 'against')" class="vote-button px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm transition">
                                                        <i class="fas fa-thumbs-down mr-1"></i>åå¯¹
                                                    </button>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- ææ¡ˆ2 -->
                                        <div class="governance-proposal p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                                            <div class="flex justify-between items-start mb-2">
                                                <h4 class="font-medium">ç¤¾åŒºèµ„é‡‘åˆ†é…ææ¡ˆ</h4>
                                                <span class="text-xs bg-blue-600/20 text-blue-400 px-2 py-1 rounded">å¾…æŠ•ç¥¨</span>
                                            </div>
                                            <p class="text-sm text-gray-300 mb-3">åˆ†é…5000 PoLä»£å¸ç”¨äºæ”¯æŒPolkadotä¸­æ–‡å¼€å‘æ–‡æ¡£ç¿»è¯‘é¡¹ç›®ã€‚</p>

                                            <div class="mb-3">
                                                <div class="flex justify-between text-sm mb-1">
                                                    <span>æŠ•ç¥¨è¿›åº¦</span>
                                                    <span id="proposal2-progress-text">0%</span>
                                                </div>
                                                <div class="w-full bg-gray-600 rounded-full h-3">
                                                    <div class="bg-blue-400 h-3 rounded-full transition-all duration-300" style="width: 0%" id="proposal2-bar"></div>
                                                </div>
                                            </div>

                                            <div class="grid grid-cols-3 gap-2 mb-3 text-xs">
                                                <div class="text-center">
                                                    <div class="font-bold text-green-400">0%</div>
                                                    <div class="text-gray-400">æ”¯æŒ</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="font-bold text-red-400">0%</div>
                                                    <div class="text-gray-400">åå¯¹</div>
                                                </div>
                                                <div class="text-center">
                                                    <div class="font-bold text-gray-400">0%</div>
                                                    <div class="text-gray-400">å¼ƒæƒ</div>
                                                </div>
                                            </div>

                                            <div class="flex justify-between items-center">
                                                <span class="text-xs text-gray-400">å‰©ä½™æ—¶é—´: 7å¤©</span>
                                                <div class="space-x-2">
                                                    <button onclick="vote(2, 'support')" class="vote-button px-3 py-1 bg-green-600 hover:bg-green-700 rounded text-sm transition">
                                                        <i class="fas fa-thumbs-up mr-1"></i>æ”¯æŒ
                                                    </button>
                                                    <button onclick="vote(2, 'against')" class="vote-button px-3 py-1 bg-red-600 hover:bg-red-700 rounded text-sm transition">
                                                        <i class="fas fa-thumbs-down mr-1"></i>åå¯¹
                                                    </button>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- åˆ›å»ºææ¡ˆ -->
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">åˆ›å»ºæ–°ææ¡ˆ</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-2">ææ¡ˆæ ‡é¢˜</label>
                                            <input type="text" id="proposalTitle" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="è¾“å…¥ææ¡ˆæ ‡é¢˜...">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">ææ¡ˆç±»å‹</label>
                                            <select id="proposalType" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white">
                                                <option value="funding">ğŸ’° èµ„é‡‘åˆ†é…</option>
                                                <option value="parameter">âš™ï¸ å‚æ•°ä¿®æ”¹</option>
                                                <option value="feature">ğŸš€ æ–°åŠŸèƒ½</option>
                                                <option value="governance">âš–ï¸ æ²»ç†è§„åˆ™</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">ææ¡ˆæè¿°</label>
                                            <textarea id="proposalDesc" rows="4" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="è¯¦ç»†æè¿°ä½ çš„ææ¡ˆå†…å®¹ã€ç†ç”±å’Œé¢„æœŸå½±å“..."></textarea>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">è¯·æ±‚èµ„é‡‘ (PoLï¼Œå¯é€‰)</label>
                                            <input type="number" id="proposalAmount" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="0" min="0">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">æŠ•ç¥¨æœŸé™</label>
                                            <select id="proposalDuration" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white">
                                                <option value="3">3å¤©</option>
                                                <option value="7" selected>7å¤©</option>
                                                <option value="14">14å¤©</option>
                                                <option value="30">30å¤©</option>
                                            </select>
                                        </div>

                                        <div class="p-4 bg-yellow-600/20 border border-yellow-500/30 rounded-lg">
                                            <h4 class="font-semibold text-yellow-400 mb-2">ææ¡ˆè¦æ±‚</h4>
                                            <ul class="text-sm text-gray-300 space-y-1">
                                                <li>â€¢ éœ€è¦è‡³å°‘1000 PoLæ‰èƒ½åˆ›å»ºææ¡ˆ</li>
                                                <li>â€¢ ææ¡ˆéœ€è¦è·å¾—è¶…è¿‡50%çš„æ”¯æŒç¥¨æ‰èƒ½é€šè¿‡</li>
                                                <li>â€¢ æŠ•ç¥¨æƒåŸºäºæŒæœ‰çš„PoLä»£å¸æ•°é‡</li>
                                            </ul>
                                        </div>

                                        <button onclick="createProposal()" class="w-full px-6 py-3 bg-gradient-to-r from-green-600 to-blue-600 rounded-full font-semibold hover:from-green-700 hover:to-blue-700 transition transform hover:scale-105">
                                            <i class="fas fa-plus-circle mr-2"></i>åˆ›å»ºææ¡ˆ (æ¶ˆè€— 1000 PoL)
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- æ²»ç†ç»Ÿè®¡ -->
                            <div class="mt-8 grid grid-cols-1 md:grid-cols-4 gap-4">
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-2xl font-bold text-green-400" id="totalProposals">2</div>
                                    <div class="text-sm text-gray-400">æ€»ææ¡ˆæ•°</div>
                                </div>
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-2xl font-bold text-blue-400" id="activeProposals">2</div>
                                    <div class="text-sm text-gray-400">æ´»è·ƒææ¡ˆ</div>
                                </div>
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-2xl font-bold text-purple-400" id="myVotes">0</div>
                                    <div class="text-sm text-gray-400">æˆ‘çš„æŠ•ç¥¨</div>
                                </div>
                                <div class="text-center p-4 bg-gray-700/50 rounded-lg">
                                    <div class="text-2xl font-bold text-yellow-400" id="governanceParticipation">0%</div>
                                    <div class="text-sm text-gray-400">å‚ä¸ç‡</div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- Bridge Tab -->
                    <div id="bridge-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-link text-blue-400 mr-2"></i>è·¨é“¾æ¡¥æ¥ç³»ç»Ÿ
                            </h2>

                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                                <!-- å‘èµ·è½¬è´¦ -->
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">å‘èµ·è·¨é“¾è½¬è´¦</h3>
                                    <div class="space-y-4">
                                        <div>
                                            <label class="block text-sm font-medium mb-2">æºç½‘ç»œ</label>
                                            <div class="p-3 bg-gray-700 border border-gray-600 rounded-lg">
                                                <div class="flex items-center">
                                                    <div class="w-8 h-8 bg-pink-500 rounded-full flex items-center justify-center mr-3">
                                                        <i class="fas fa-circle text-white text-xs"></i>
                                                    </div>
                                                    <span>Polkadot Asset Hub</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">ç›®æ ‡é“¾</label>
                                            <select id="targetChain" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" onchange="updateTransferInfo()">
                                                <option value="ethereum">ğŸ”· Ethereum</option>
                                                <option value="polygon">ğŸŸ£ Polygon</option>
                                                <option value="arbitrum">ğŸ”µ Arbitrum</option>
                                                <option value="optimism">ğŸ”´ Optimism</option>
                                                <option value="bsc">ğŸŸ¡ BSC</option>
                                            </select>
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">è½¬è´¦é‡‘é¢ (PoL)</label>
                                            <input type="number" id="transferAmount" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="0" min="0" oninput="updateTransferInfo()">
                                        </div>

                                        <div>
                                            <label class="block text-sm font-medium mb-2">æ¥æ”¶åœ°å€</label>
                                            <input type="text" id="recipientAddress" class="w-full p-3 bg-gray-700 border border-gray-600 rounded-lg text-white" placeholder="0x...">
                                        </div>

                                        <div class="p-4 bg-blue-600/20 border border-blue-500/30 rounded-lg">
                                            <h4 class="font-semibold text-blue-400 mb-3">è½¬è´¦è¯¦æƒ…</h4>
                                            <div class="space-y-2 text-sm">
                                                <div class="flex justify-between">
                                                    <span class="text-gray-400">è½¬è´¦é‡‘é¢:</span>
                                                    <span id="transferAmountDisplay">0 PoL</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-400">è·¨é“¾æ‰‹ç»­è´¹:</span>
                                                    <span id="transferFee">5 PoL</span>
                                                </div>
                                                <div class="flex justify-between">
                                                    <span class="text-gray-400">ç½‘ç»œè´¹ç”¨:</span>
                                                    <span id="networkFee">0.001 ETH</span>
                                                </div>
                                                <div class="flex justify-between font-semibold text-blue-400 pt-2 border-t border-gray-600">
                                                    <span>æ€»è®¡:</span>
                                                    <span id="transferTotal">5 PoL + 0.001 ETH</span>
                                                </div>
                                            </div>
                                        </div>

                                        <div class="p-4 bg-yellow-600/20 border border-yellow-500/30 rounded-lg">
                                            <h4 class="font-semibold text-yellow-400 mb-2">è½¬è´¦è¯´æ˜</h4>
                                            <ul class="text-sm text-gray-300 space-y-1">
                                                <li>â€¢ è·¨é“¾è½¬è´¦é€šå¸¸éœ€è¦10-30åˆ†é’Ÿå®Œæˆ</li>
                                                <li>â€¢ è¯·ç¡®ä¿æ¥æ”¶åœ°å€æ­£ç¡®ä¸”æ”¯æŒç›®æ ‡é“¾</li>
                                                <li>â€¢ æœ€å°è½¬è´¦é‡‘é¢ä¸º10 PoL</li>
                                                <li>â€¢ è½¬è´¦ä¸å¯æ’¤é”€ï¼Œè¯·ä»”ç»†æ ¸å¯¹ä¿¡æ¯</li>
                                            </ul>
                                        </div>

                                        <button onclick="initiateTransfer()" class="w-full px-6 py-3 bg-gradient-to-r from-blue-600 to-cyan-600 rounded-full font-semibold hover:from-blue-700 hover:to-cyan-700 transition transform hover:scale-105">
                                            <i class="fas fa-paper-plane mr-2"></i>å‘èµ·è·¨é“¾è½¬è´¦
                                        </button>
                                    </div>
                                </div>

                                <!-- è½¬è´¦å†å²å’ŒçŠ¶æ€ -->
                                <div>
                                    <h3 class="text-lg font-semibold mb-4">è½¬è´¦å†å²</h3>
                                    <div class="space-y-3" id="transferHistory">
                                        <!-- å†å²è®°å½•å°†åœ¨è¿™é‡Œæ˜¾ç¤º -->
                                        <div class="text-center text-gray-400 py-8">
                                            <i class="fas fa-history text-4xl mb-3"></i>
                                            <p>æš‚æ— è½¬è´¦è®°å½•</p>
                                        </div>
                                    </div>

                                    <div class="mt-6">
                                        <h4 class="font-semibold mb-3">æ”¯æŒçš„åŒºå—é“¾</h4>
                                        <div class="grid grid-cols-2 gap-3">
                                            <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span class="text-sm">Polkadot Asset Hub</span>
                                            </div>
                                            <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span class="text-sm">Ethereum</span>
                                            </div>
                                            <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span class="text-sm">Polygon</span>
                                            </div>
                                            <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span class="text-sm">Arbitrum</span>
                                            </div>
                                            <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                                                <div class="w-2 h-2 bg-green-400 rounded-full mr-2"></div>
                                                <span class="text-sm">Optimism</span>
                                            </div>
                                            <div class="flex items-center p-3 bg-gray-700/50 rounded-lg">
                                                <div class="w-2 h-2 bg-yellow-400 rounded-full mr-2"></div>
                                                <span class="text-sm">BSC (æµ‹è¯•ä¸­)</span>
                                            </div>
                                        </div>
                                    </div>

                                    <!-- è·¨é“¾ç»Ÿè®¡ -->
                                    <div class="mt-6 p-4 bg-gray-700/50 rounded-lg">
                                        <h4 class="font-semibold mb-3">è·¨é“¾ç»Ÿè®¡</h4>
                                        <div class="grid grid-cols-2 gap-4 text-sm">
                                            <div>
                                                <div class="text-lg font-bold text-blue-400" id="totalTransfers">0</div>
                                                <div class="text-gray-400">æ€»è½¬è´¦æ¬¡æ•°</div>
                                            </div>
                                            <div>
                                                <div class="text-lg font-bold text-green-400" id="totalTransferred">0</div>
                                                <div class="text-gray-400">æ€»è½¬è´¦é‡‘é¢(PoL)</div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <!-- NFT Marketplace Tab -->
                    <div id="marketplace-tab" class="tab-content hidden">
                        <div class="bg-gray-800/50 backdrop-blur-sm rounded-2xl border border-gray-700 p-8">
                            <h2 class="text-2xl font-bold mb-6">
                                <i class="fas fa-store text-pink-400 mr-2"></i>NFT æˆå°±å¸‚åœº
                            </h2>

                            <!-- æˆ‘çš„ NFT -->
                            <div class="mb-8">
                                <h3 class="text-lg font-semibold mb-4">æˆ‘çš„æˆå°± NFT</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4" id="myNFTs">
                                    <div class="text-center text-gray-400 py-8 col-span-full">
                                        <i class="fas fa-image text-4xl mb-3"></i>
                                        <p>æš‚æ— æˆå°± NFTï¼Œå¿«å»å®Œæˆæˆå°±è·å–å§ï¼</p>
                                    </div>
                                </div>
                            </div>

                            <!-- å¸‚åœº NFT -->
                            <div>
                                <h3 class="text-lg font-semibold mb-4">å¸‚åœºäº¤æ˜“</h3>
                                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                                    <!-- ç¤ºä¾‹ NFT å¡ç‰‡ -->
                                    <div class="nft-card rounded-lg p-4 text-white">
                                        <div class="aspect-square bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg mb-4 flex items-center justify-center">
                                            <i class="fas fa-trophy text-6xl"></i>
                                        </div>
                                        <h4 class="font-semibold mb-2">ä»£ç å¤§å¸ˆ NFT</h4>
                                        <p class="text-sm opacity-80 mb-3">å²è¯—çº§æˆå°±ï¼Œè¯æ˜ä½ åœ¨ä»£ç è´¡çŒ®æ–¹é¢çš„å“è¶Šè¡¨ç°</p>
                                        <div class="flex justify-between items-center">
                                            <span class="text-lg font-bold">2,500 PoL</span>
                                            <button class="px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition">
                                                è´­ä¹°
                                            </button>
                                        </div>
                                    </div>

                                    <div class="nft-card rounded-lg p-4 text-white">
                                        <div class="aspect-square bg-gradient-to-br from-blue-600 to-cyan-600 rounded-lg mb-4 flex items-center justify-center">
                                            <i class="fas fa-graduation-cap text-6xl"></i>
                                        </div>
                                        <h4 class="font-semibold mb-2">æ•™è‚²å¯¼å¸ˆ NFT</h4>
                                        <p class="text-sm opacity-80 mb-3">ç¨€æœ‰æˆå°±ï¼Œè¡¨å½°ä½ åœ¨çŸ¥è¯†ä¼ æ’­æ–¹é¢çš„è´¡çŒ®</p>
                                        <div class="flex justify-between items-center">
                                            <span class="text-lg font-bold">1,800 PoL</span>
                                            <button class="px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition">
                                                è´­ä¹°
                                            </button>
                                        </div>
                                    </div>

                                    <div class="nft-card rounded-lg p-4 text-white">
                                        <div class="aspect-square bg-gradient-to-br from-green-600 to-emerald-600 rounded-lg mb-4 flex items-center justify-center">
                                            <i class="fas fa-globe text-6xl"></i>
                                        </div>
                                        <h4 class="font-semibold mb-2">è·¨é“¾å¤§ä½¿ NFT</h4>
                                        <p class="text-sm opacity-80 mb-3">ä¼ å¥‡æˆå°±ï¼Œè¯æ˜ä½ åœ¨å¤šé“¾ç”Ÿæ€å»ºè®¾ä¸­çš„é¢†å¯¼åŠ›</p>
                                        <div class="flex justify-between items-center">
                                            <span class="text-lg font-bold">5,000 PoL</span>
                                            <button class="px-3 py-1 bg-white/20 hover:bg-white/30 rounded-lg text-sm transition">
                                                è´­ä¹°
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>

    <script>
        // å…¨å±€çŠ¶æ€ç®¡ç†
        const appState = {
            isWalletConnected: false,
            userAddress: null,
            balance: 0,
            achievements: [],
            contributions: [],
            totalInfluence: 0,
            reputationScore: 0,
            communityRank: 1,
            governancePower: 0,
            myVotes: 0,
            totalTransfers: 0,
            totalTransferred: 0,
            transferHistory: [],
            myNFTs: [],
            proposals: [
                { id: 1, title: 'å¢åŠ æ•™è‚²å†…å®¹å¥–åŠ±å€æ•°', support: 65, against: 15, abstain: 20, status: 'active', userVoted: false },
                { id: 2, title: 'ç¤¾åŒºèµ„é‡‘åˆ†é…ææ¡ˆ', support: 0, against: 0, abstain: 0, status: 'active', userVoted: false }
            ]
        };

        // è´¡çŒ®ç±»å‹å€æ•°
        const contributionMultipliers = {
            education: 1.5,
            code: 2.0,
            community: 1.2,
            translation: 1.8
        };

        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            initializeApp();
            loadUserData();
        });

        function initializeApp() {
            setupEventListeners();
            updateUI();
        }

        function setupEventListeners() {
            // é’±åŒ…è¿æ¥
            document.getElementById('connectWallet').addEventListener('click', toggleWallet);

            // è´¡çŒ®ç³»ç»Ÿ
            document.getElementById('submitContribution').addEventListener('click', submitContribution);
            document.querySelectorAll('input[name="contributionType"]').forEach(radio => {
                radio.addEventListener('change', updateEstimatedReward);
            });

            // åˆå§‹åŒ–ä¼°ç®—å¥–åŠ±
            updateEstimatedReward();
        }

        // é’±åŒ…è¿æ¥
        async function toggleWallet() {
            const btn = document.getElementById('connectWallet');

            if (!appState.isWalletConnected) {
                // æ¨¡æ‹Ÿé’±åŒ…è¿æ¥
                btn.innerHTML = '<div class="loading-spinner inline-block mr-2"></div>è¿æ¥ä¸­...';
                btn.disabled = true;

                await simulateAsync(2000);

                appState.isWalletConnected = true;
                appState.userAddress = '0x' + Math.random().toString(16).substr(2, 8) + '...';
                appState.balance = Math.floor(Math.random() * 2000) + 500;
                appState.reputationScore = Math.floor(Math.random() * 500) + 100;
                appState.governancePower = Math.floor(appState.balance / 100);

                btn.innerHTML = `<i class="fas fa-wallet mr-2"></i>${appState.userAddress}`;
                btn.disabled = false;
                btn.classList.remove('bg-purple-600', 'hover:bg-purple-700');
                btn.classList.add('bg-green-600', 'hover:bg-green-700');

                showToast('é’±åŒ…è¿æ¥æˆåŠŸï¼', 'success');
                updateUI();
            } else {
                // æ–­å¼€è¿æ¥
                appState.isWalletConnected = false;
                appState.userAddress = null;
                appState.balance = 0;

                btn.innerHTML = 'è¿æ¥é’±åŒ…';
                btn.classList.remove('bg-green-600', 'hover:bg-green-700');
                btn.classList.add('bg-purple-600', 'hover:bg-purple-700');

                showToast('é’±åŒ…å·²æ–­å¼€è¿æ¥', 'info');
                updateUI();
            }
        }

        // Tab åˆ‡æ¢
        function switchTab(tabName) {
            // æ›´æ–°æŒ‰é’®æ ·å¼
            document.querySelectorAll('.tab-btn').forEach(btn => {
                if (btn.dataset.tab === tabName) {
                    btn.classList.remove('bg-gray-700');
                    btn.classList.add('bg-purple-600');
                } else {
                    btn.classList.remove('bg-purple-600');
                    btn.classList.add('bg-gray-700');
                }
            });

            // åˆ‡æ¢å†…å®¹
            document.querySelectorAll('.tab-content').forEach(content => {
                content.classList.add('hidden');
            });
            document.getElementById(tabName + '-tab').classList.remove('hidden');
        }

        // è´¡çŒ®ç³»ç»Ÿ
        function updateImpactDisplay(value) {
            document.getElementById('impactDisplay').textContent = value;
            document.getElementById('estimatedInfluence').textContent = value;
            updateEstimatedReward();
        }

        function updateEstimatedReward() {
            const score = parseInt(document.getElementById('impactScore').value) || 50;
            const type = document.querySelector('input[name="contributionType"]:checked').value;
            const multiplier = contributionMultipliers[type];
            const reward = Math.floor(score * 10 * multiplier);

            document.getElementById('estimatedReward').textContent = reward;
            document.getElementById('estimatedInfluence').textContent = score;
        }

        function submitContribution() {
            if (!appState.isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            const title = document.getElementById('contributionTitle').value.trim();
            const desc = document.getElementById('contributionDesc').value.trim();
            const link = document.getElementById('contributionLink').value.trim();
            const score = parseInt(document.getElementById('impactScore').value) || 50;
            const type = document.querySelector('input[name="contributionType"]:checked').value;
            const multiplier = contributionMultipliers[type];
            const reward = Math.floor(score * 10 * multiplier);

            if (!title || !desc) {
                showToast('è¯·å¡«å†™å®Œæ•´çš„è´¡çŒ®ä¿¡æ¯', 'error');
                return;
            }

            const btn = document.getElementById('submitContribution');
            btn.innerHTML = '<div class="loading-spinner inline-block mr-2"></div>æäº¤ä¸­...';
            btn.disabled = true;

            simulateAsync(2000).then(() => {
                // æ›´æ–°çŠ¶æ€
                appState.balance += reward;
                appState.totalInfluence += score;
                appState.reputationScore += Math.floor(score / 2);
                appState.contributions.push({
                    title, desc, link, type, score, reward, timestamp: new Date()
                });

                // æ›´æ–°UI
                updateUI();
                updateAchievementProgress();

                // é‡ç½®è¡¨å•
                document.getElementById('contributionTitle').value = '';
                document.getElementById('contributionDesc').value = '';
                document.getElementById('contributionLink').value = '';
                document.getElementById('impactScore').value = 50;
                document.getElementById('impactDisplay').textContent = 50;
                updateEstimatedReward();

                btn.innerHTML = '<i class="fas fa-paper-plane mr-2"></i>æäº¤è´¡çŒ®';
                btn.disabled = false;

                showToast(`è´¡çŒ®æäº¤æˆåŠŸï¼è·å¾— ${reward} PoL ä»£å¸å’Œ ${score} å½±å“åŠ›`, 'success');
            });
        }

        // æˆå°±ç³»ç»Ÿ
        function updateAchievementProgress() {
            // æˆå°±1: é¦–æ¬¡è´¡çŒ®
            const progress1 = Math.min(100, appState.contributions.length * 100);
            updateProgressBar('progress-1', progress1);

            // æˆå°±2: ä»£ç è´¡çŒ®
            const codeContributions = appState.contributions.filter(c => c.type === 'code').length;
            const progress2 = Math.min(100, codeContributions * 10);
            updateProgressBar('progress-2', progress2);

            // æˆå°±3: å½±å“åŠ›å¤§å¸ˆ
            const progress3 = Math.min(100, (appState.totalInfluence / 1000) * 100);
            updateProgressBar('progress-3', progress3);

            // æˆå°±4: ç¤¾åŒºä¼ å¥‡
            const progress4 = Math.min(100, (appState.balance / 10000) * 100);
            updateProgressBar('progress-4', progress4);

            // æˆå°±5: æ•™è‚²å¯¼å¸ˆ
            const eduContributions = appState.contributions.filter(c => c.type === 'education').length;
            const progress5 = Math.min(100, (eduContributions / 20) * 100);
            updateProgressBar('progress-5', progress5);

            // æˆå°±6: è·¨é“¾å¤§ä½¿
            const progress6 = Math.min(100, (appState.totalTransfers / 10) * 100);
            updateProgressBar('progress-6', progress6);

            // æ›´æ–°æˆå°±æŒ‰é’®çŠ¶æ€
            updateAchievementButtons();
        }

        function updateProgressBar(id, progress) {
            const bar = document.getElementById(id);
            if (bar) {
                bar.style.width = progress + '%';
            }
        }

        function updateAchievementButtons() {
            const achievements = [
                { id: 1, requirement: appState.contributions.length >= 1 },
                { id: 2, requirement: appState.contributions.filter(c => c.type === 'code').length >= 10 },
                { id: 3, requirement: appState.totalInfluence >= 1000 },
                { id: 4, requirement: appState.balance >= 10000 },
                { id: 5, requirement: appState.contributions.filter(c => c.type === 'education').length >= 20 },
                { id: 6, requirement: appState.totalTransfers >= 10 }
            ];

            achievements.forEach(achievement => {
                const btn = document.querySelector(`[data-achievement="${achievement.id}"]`);
                if (btn) {
                    const alreadyClaimed = appState.achievements.includes(achievement.id);
                    if (alreadyClaimed) {
                        btn.textContent = 'å·²é¢†å–';
                        btn.className = 'achievement-btn px-4 py-2 bg-gray-600 rounded-lg text-sm';
                        btn.disabled = true;
                    } else if (achievement.requirement) {
                        btn.textContent = 'é¢†å–å¥–åŠ±';
                        btn.className = 'achievement-btn px-4 py-2 bg-green-600 hover:bg-green-700 rounded-lg text-sm transition';
                        btn.disabled = false;
                    } else {
                        btn.textContent = 'æœªè¾¾æˆ';
                        btn.className = 'achievement-btn px-4 py-2 bg-gray-600 rounded-lg text-sm';
                        btn.disabled = true;
                    }
                }
            });
        }

        function claimAchievement(id, name, reward) {
            if (!appState.isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            if (appState.achievements.includes(id)) {
                showToast('è¯¥æˆå°±å·²ç»é¢†å–è¿‡äº†', 'warning');
                return;
            }

            appState.achievements.push(id);
            appState.balance += reward;
            appState.reputationScore += 50;

            // æ·»åŠ åˆ°æˆ‘çš„NFT
            appState.myNFTs.push({ id, name, reward, timestamp: new Date() });

            showToast(`æ­å–œè·å¾—æˆå°±: ${name}ï¼å¥–åŠ± ${reward} PoL`, 'success');
            updateUI();
            updateAchievementProgress();
            updateMyNFTs();
        }

        // æ²»ç†ç³»ç»Ÿ
        function vote(proposalId, voteType) {
            if (!appState.isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            if (appState.balance < 100) {
                showToast('éœ€è¦è‡³å°‘100 PoLæ‰èƒ½æŠ•ç¥¨', 'error');
                return;
            }

            const proposal = appState.proposals.find(p => p.id === proposalId);
            if (!proposal) return;

            if (proposal.userVoted) {
                showToast('ä½ å·²ç»å¯¹è¯¥ææ¡ˆæŠ•è¿‡ç¥¨äº†', 'warning');
                return;
            }

            // æ¨¡æ‹ŸæŠ•ç¥¨
            const voteWeight = Math.min(appState.balance / 100, 10); // æ¯ç¥¨æƒé‡ï¼Œæœ€å¤§10ç¥¨
            const change = voteWeight * (voteType === 'support' ? 1 : -1);

            proposal.support += voteType === 'support' ? change : 0;
            proposal.against += voteType === 'against' ? change : 0;
            proposal.userVoted = true;
            appState.myVotes++;

            // æ›´æ–°UI
            updateProposalProgress(proposalId);
            updateUI();

            const voteText = voteType === 'support' ? 'æ”¯æŒ' : 'åå¯¹';
            showToast(`æŠ•ç¥¨æˆåŠŸï¼ä½ æŠ•äº†${voteText}ç¥¨ï¼ˆæƒé‡: ${voteWeight}ï¼‰`, 'success');
        }

        function updateProposalProgress(proposalId) {
            const proposal = appState.proposals.find(p => p.id === proposalId);
            if (!proposal) return;

            const total = proposal.support + proposal.against + proposal.abstain;
            const supportPercent = total > 0 ? Math.round((proposal.support / total) * 100) : 0;

            const progressBar = document.getElementById(`proposal${proposalId}-bar`);
            const progressText = document.getElementById(`proposal${proposalId}-progress-text`);

            if (progressBar && progressText) {
                progressBar.style.width = supportPercent + '%';
                progressText.textContent = supportPercent + '%';
            }
        }

        function createProposal() {
            if (!appState.isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            const title = document.getElementById('proposalTitle').value.trim();
            const desc = document.getElementById('proposalDesc').value.trim();
            const amount = parseInt(document.getElementById('proposalAmount').value) || 0;

            if (!title || !desc) {
                showToast('è¯·å¡«å†™å®Œæ•´çš„ææ¡ˆä¿¡æ¯', 'error');
                return;
            }

            if (appState.balance < 1000) {
                showToast('éœ€è¦è‡³å°‘1000 PoLæ‰èƒ½åˆ›å»ºææ¡ˆ', 'error');
                return;
            }

            appState.balance -= 1000; // æ‰£é™¤ææ¡ˆè´¹ç”¨

            // åˆ›å»ºæ–°ææ¡ˆ
            const newProposal = {
                id: appState.proposals.length + 1,
                title,
                support: 0,
                against: 0,
                abstain: 0,
                status: 'active',
                userVoted: false
            };

            appState.proposals.push(newProposal);

            // æ¸…ç©ºè¡¨å•
            document.getElementById('proposalTitle').value = '';
            document.getElementById('proposalDesc').value = '';
            document.getElementById('proposalAmount').value = '';

            showToast('ææ¡ˆåˆ›å»ºæˆåŠŸï¼ç­‰å¾…ç¤¾åŒºæŠ•ç¥¨', 'success');
            updateUI();
        }

        // è·¨é“¾æ¡¥æ¥
        function updateTransferInfo() {
            const amount = parseInt(document.getElementById('transferAmount').value) || 0;
            const targetChain = document.getElementById('targetChain').value;
            const bridgeFee = 5;
            const networkFee = 0.001;

            document.getElementById('transferAmountDisplay').textContent = `${amount} PoL`;
            document.getElementById('transferFee').textContent = `${bridgeFee} PoL`;
            document.getElementById('networkFee').textContent = `${networkFee} ETH`;
            document.getElementById('transferTotal').textContent = `${amount + bridgeFee} PoL + ${networkFee} ETH`;
        }

        function initiateTransfer() {
            if (!appState.isWalletConnected) {
                showToast('è¯·å…ˆè¿æ¥é’±åŒ…', 'error');
                return;
            }

            const amount = parseInt(document.getElementById('transferAmount').value) || 0;
            const recipient = document.getElementById('recipientAddress').value.trim();
            const targetChain = document.getElementById('targetChain').value;

            if (amount < 10) {
                showToast('æœ€å°è½¬è´¦é‡‘é¢ä¸º10 PoL', 'error');
                return;
            }

            if (!recipient) {
                showToast('è¯·è¾“å…¥æ¥æ”¶åœ°å€', 'error');
                return;
            }

            if (!recipient.startsWith('0x') || recipient.length !== 42) {
                showToast('è¯·è¾“å…¥æœ‰æ•ˆçš„æ¥æ”¶åœ°å€', 'error');
                return;
            }

            const totalCost = amount + 5;
            if (appState.balance < totalCost) {
                showToast('ä½™é¢ä¸è¶³', 'error');
                return;
            }

            // æ‰£é™¤è´¹ç”¨
            appState.balance -= totalCost;
            appState.totalTransfers++;
            appState.totalTransferred += amount;

            // æ·»åŠ åˆ°å†å²è®°å½•
            const transfer = {
                id: appState.transferHistory.length + 1,
                from: 'Polkadot',
                to: targetChain,
                amount,
                recipient,
                status: 'processing',
                timestamp: new Date()
            };

            appState.transferHistory.unshift(transfer);

            // æ¸…ç©ºè¡¨å•
            document.getElementById('transferAmount').value = '';
            document.getElementById('recipientAddress').value = '';
            updateTransferInfo();

            showToast('è·¨é“¾è½¬è´¦å·²å‘èµ·ï¼Œæ­£åœ¨å¤„ç†ä¸­...', 'success');
            updateUI();
            updateTransferHistory();

            // æ¨¡æ‹Ÿè½¬è´¦å®Œæˆ
            setTimeout(() => {
                transfer.status = 'completed';
                updateTransferHistory();
                showToast('è·¨é“¾è½¬è´¦å·²å®Œæˆï¼', 'success');
            }, 10000);
        }

        function updateTransferHistory() {
            const historyContainer = document.getElementById('transferHistory');

            if (appState.transferHistory.length === 0) {
                historyContainer.innerHTML = `
                    <div class="text-center text-gray-400 py-8">
                        <i class="fas fa-history text-4xl mb-3"></i>
                        <p>æš‚æ— è½¬è´¦è®°å½•</p>
                    </div>
                `;
                return;
            }

            const chainIcons = {
                ethereum: 'ğŸ”·',
                polygon: 'ğŸŸ£',
                arbitrum: 'ğŸ”µ',
                optimism: 'ğŸ”´',
                bsc: 'ğŸŸ¡'
            };

            const statusColors = {
                processing: 'yellow',
                completed: 'green',
                failed: 'red'
            };

            const statusText = {
                processing: 'å¤„ç†ä¸­',
                completed: 'å·²å®Œæˆ',
                failed: 'å¤±è´¥'
            };

            historyContainer.innerHTML = appState.transferHistory.map(transfer => {
                const icon = chainIcons[transfer.to] || 'ğŸ”—';
                const color = statusColors[transfer.status];
                const status = statusText[transfer.status];
                const time = new Date(transfer.timestamp).toLocaleString('zh-CN');

                return `
                    <div class="p-4 bg-gray-700/50 rounded-lg border border-gray-600">
                        <div class="flex justify-between items-center">
                            <div>
                                <div class="font-medium">Polkadot â†’ ${icon} ${transfer.to.charAt(0).toUpperCase() + transfer.to.slice(1)}</div>
                                <div class="text-sm text-gray-400">${time}</div>
                                <div class="text-xs text-gray-500 mt-1">æ¥æ”¶æ–¹: ${transfer.recipient.substring(0, 10)}...${transfer.recipient.substring(34)}</div>
                            </div>
                            <div class="text-right">
                                <div class="font-semibold text-${color}-400">${transfer.amount} PoL</div>
                                <div class="text-xs bg-${color}-600/20 text-${color}-400 px-2 py-1 rounded mt-1">${status}</div>
                            </div>
                        </div>
                    </div>
                `;
            }).join('');
        }

        function updateMyNFTs() {
            const nftContainer = document.getElementById('myNFTs');

            if (appState.myNFTs.length === 0) {
                nftContainer.innerHTML = `
                    <div class="text-center text-gray-400 py-8 col-span-full">
                        <i class="fas fa-image text-4xl mb-3"></i>
                        <p>æš‚æ— æˆå°± NFTï¼Œå¿«å»å®Œæˆæˆå°±è·å–å§ï¼</p>
                    </div>
                `;
                return;
            }

            nftContainer.innerHTML = appState.myNFTs.map(nft => `
                <div class="bg-gray-700/50 rounded-lg p-4 border border-gray-600 card-hover">
                    <div class="aspect-square bg-gradient-to-br from-purple-600 to-pink-600 rounded-lg mb-3 flex items-center justify-center">
                        <i class="fas fa-trophy text-4xl"></i>
                    </div>
                    <h4 class="font-semibold text-sm mb-1">${nft.name}</h4>
                    <p class="text-xs text-gray-400 mb-2">è·å¾—äº ${new Date(nft.timestamp).toLocaleDateString('zh-CN')}</p>
                    <div class="text-center">
                        <span class="text-lg font-bold text-purple-400">${nft.reward} PoL</span>
                    </div>
                </div>
            `).join('');
        }

        // UI æ›´æ–°
        function updateUI() {
            // æ›´æ–°å¯¼èˆªæ çŠ¶æ€
            document.getElementById('polBalance').textContent = appState.balance;
            document.getElementById('achievementCount').textContent = appState.achievements.length;
            document.getElementById('reputationScore').textContent = appState.reputationScore;
            document.getElementById('communityRank').textContent = `#${appState.communityRank}`;
            document.getElementById('governancePower').textContent = `${appState.governancePower}%`;

            // æ›´æ–°ä»ªè¡¨æ¿
            document.getElementById('totalContributions').textContent = appState.contributions.length;
            document.getElementById('totalInfluence').textContent = appState.totalInfluence;

            // æ›´æ–°æˆå°±ç»Ÿè®¡
            const stats = calculateAchievementStats();
            document.getElementById('totalAchievements').textContent = stats.total;
            document.getElementById('rareAchievements').textContent = stats.rare;
            document.getElementById('epicAchievements').textContent = stats.epic;
            document.getElementById('legendaryAchievements').textContent = stats.legendary;

            // æ›´æ–°æ²»ç†ç»Ÿè®¡
            document.getElementById('totalProposals').textContent = appState.proposals.length;
            document.getElementById('activeProposals').textContent = appState.proposals.filter(p => p.status === 'active').length;
            document.getElementById('myVotes').textContent = appState.myVotes;
            document.getElementById('governanceParticipation').textContent = `${Math.round((appState.myVotes / Math.max(1, appState.proposals.length)) * 100)}%`;

            // æ›´æ–°è·¨é“¾ç»Ÿè®¡
            document.getElementById('totalTransfers').textContent = appState.totalTransfers;
            document.getElementById('totalTransferred').textContent = appState.totalTransferred;

            // æ›´æ–°è´¡çŒ®ç±»å‹å¡ç‰‡æ ·å¼
            updateContributionTypeCards();
        }

        function updateContributionTypeCards() {
            document.querySelectorAll('.contribution-type-card').forEach(card => {
                const radio = card.querySelector('input[type="radio"]');
                if (radio.checked) {
                    card.classList.add('border-purple-500', 'bg-purple-600/20');
                } else {
                    card.classList.remove('border-purple-500', 'bg-purple-600/20');
                }
            });
        }

        function calculateAchievementStats() {
            const achievementRarity = {
                1: 'common',    // é¦–æ¬¡è´¡çŒ®
                2: 'rare',      // ä»£ç è´¡çŒ®è€…
                3: 'epic',      // å½±å“åŠ›å¤§å¸ˆ
                4: 'legendary', // ç¤¾åŒºä¼ å¥‡
                5: 'rare',      // æ•™è‚²å¯¼å¸ˆ
                6: 'epic'       // è·¨é“¾å¤§ä½¿
            };

            const stats = { total: 0, rare: 0, epic: 0, legendary: 0 };

            appState.achievements.forEach(achievementId => {
                const rarity = achievementRarity[achievementId];
                if (rarity) {
                    stats.total++;
                    stats[rarity]++;
                }
            });

            return stats;
        }

        // å·¥å…·å‡½æ•°
        function simulateAsync(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }

        function showToast(message, type = 'info') {
            const toastContainer = document.getElementById('toastContainer');
            const toastId = 'toast-' + Date.now();

            const bgClass = type === 'success' ? 'bg-green-600' :
                           type === 'error' ? 'bg-red-600' :
                           type === 'warning' ? 'bg-yellow-600' : 'bg-blue-600';

            const icon = type === 'success' ? 'check-circle' :
                        type === 'error' ? 'exclamation-circle' :
                        type === 'warning' ? 'exclamation-triangle' : 'info-circle';

            const toastHTML = `
                <div id="${toastId}" class="success-toast ${bgClass} text-white px-6 py-4 rounded-lg shadow-lg flex items-center space-x-3 min-w-[300px]">
                    <i class="fas fa-${icon} text-xl"></i>
                    <span>${message}</span>
                </div>
            `;

            toastContainer.insertAdjacentHTML('beforeend', toastHTML);

            setTimeout(() => {
                const toast = document.getElementById(toastId);
                if (toast) {
                    toast.style.opacity = '0';
                    toast.style.transform = 'translateX(100%)';
                    setTimeout(() => toast.remove(), 300);
                }
            }, 3000);
        }

        // åŠ è½½ç”¨æˆ·æ•°æ®ï¼ˆæ¨¡æ‹Ÿï¼‰
        function loadUserData() {
            // å¯ä»¥åœ¨è¿™é‡ŒåŠ è½½ä¹‹å‰çš„ç”¨æˆ·æ•°æ®
            updateUI();
            updateAchievementProgress();
        }

        // è´¡çŒ®ç±»å‹é€‰æ‹©äº‹ä»¶
        document.querySelectorAll('input[name="contributionType"]').forEach(radio => {
            radio.addEventListener('change', updateContributionTypeCards);
        });
    </script>
</body>
</html>